<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>To the Girl I Loved the Most</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Password Gate -->
  <div id="password-gate" class="gate">
    <div class="gate-content">
      <h2>Enter the secret password</h2>
      <input type="password" id="gate-input" placeholder="Your password" />
      <button id="gate-submit">Go</button>
      <p id="gate-error" class="error" hidden>Wrong password — try again.</p>
    </div>
  </div>

  <!-- Page 1: Introduction -->
  <section class="page intro" style="background-image: url('assets/img/background.jpg');">
    <div class="overlay">
      <h1>To the girl I loved the most.</h1>
      <p class="scroll-hint">scroll down ↓</p>
    </div>
  </section>

  <!-- Pages 2–6: Paragraphs -->
  <section class="page"><p>A forgetful of a person I am. But never can I forget the burst of feeling I had when I saw you at Paradha's party. Time being frozen or was it me being frozen seeing you all dressed up, ready to steal all the hearts. You being annoyed on me that I stood still when we were getting late. I would love to be most late person the world and let go all the time I have to live that moment again.</p></section>
  <section class="page"><p>It feels like yesterday, yesterday I came from Tirupati just to eagerly see you. Two year went like running sand. We were short of time. There is so much things I want experience with you. But, Time's Up for me. Was not careful that had limited of it. I wish I am stuck in this time loop.</p></section>
  <section class="page"><p>With you I have grown. Learnt to patient. Learnt to be understanding. Learnt how to respect. How can I be thankful for all this you made me. We laughed, cried, got angry and got scared.</p></section>
  <section class="page"><p>The balance in Universe, this is true. Scientifically, like thermodynamics, energy is neither created or diminished. Looking back till now, what was something I cherish in my entire life? Surely, it is the time spent with you, each day, each minute. The man I am today is because of you. Picture was, I would spend my last breath this happy. God didn't blessed me whole though. He showed me the best of best time I had and told that was it. 
Nevertheless, still got the memories of those time I spent it with. I guess he can't take those from me.

As Adam say, "There's a time that I remember when I did not know no pain When I believed in forever And everything would stay the same".</p></section>
  <section class="page"><p>Concept of Multiverse is intriguing, well spread my Marvel. There are parallel universes, but not eveything is same in each. In one universe Peter got MJ, in other he got Gwen. But when Dr. Stephen Strange traversed across all universe, in each he loved the same girl, Chritine Palmer. His words to Palmer after all the verses are, "I love you, I love you in every universe". How could be the writer so deep?

These words, are so stuck in my head. Correlating to a dramatic dialogue from a Fictional Action movie is ironic.</p></section>

  <!-- Final Page -->
 <section class="page final">
  <div class="final-content">
    <h2>Some memories we made</h2>
    <div class="collage-scroll">
      <img src="assets/img/collage1.jpg" alt="Memory 1">
      <img src="assets/img/collage2.jpg" alt="Memory 2">
      <img src="assets/img/collage3.jpg" alt="Memory 3">
      <img src="assets/img/collage4.jpg" alt="Memory 4">
      <img src="assets/img/collage5.jpg" alt="Memory 5">
      <img src="assets/img/collage6.jpg" alt="Memory 6">
      <!-- add more <img> as needed -->
    </div>
    
<!-- Hidden, looping audio with a clear id -->
    <audio id="finalAudio" loop hidden>
  <source src="assets/audio/song.mp3" type="audio/mpeg">
  Your browser does not support audio.
</audio>


    
  </section>
  <script src="main.js"></script>
  <script>
  // Grab the audio element
  const finalAudio = document.getElementById('finalAudio');
  // Grab the final section
  const finalSection = document.querySelector('.final');

  // Only proceed if both exist
  if (finalAudio && finalSection) {
    // Create an observer that watches when finalSection is ≥50% visible
    const audioObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Play the audio once the section scrolls into view
          finalAudio.play().catch(() => {
            console.warn('Autoplay blocked. User interaction may be required.');
          });
          // Stop observing so this only fires once
          audioObserver.unobserve(finalSection);
        }
      });
    }, { threshold: 0.5 });

    // Start observing
    audioObserver.observe(finalSection);
  }
</script>
</body>
</html>
